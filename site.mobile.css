/* CryptoUA mobile overrides (loaded only on mobile) */
:root{
  --safeTop: env(safe-area-inset-top, 0px);
  --safeBottom: env(safe-area-inset-bottom, 0px);
}
.header{padding-top: var(--safeTop);}
.footer{padding-bottom: var(--safeBottom);}

/* Burger + overlay menu */
.burgerBtn{
  display:flex;
  width:44px;height:44px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.04);
  color:inherit;
  align-items:center;
  justify-content:center;
  gap:4px;
  padding:10px;
}
.burgerBtn span{display:block;width:18px;height:2px;background:rgba(255,255,255,.85);border-radius:2px}

.nav{
  position:fixed;
  inset:0;
  background:rgba(7,10,24,.62);
  backdrop-filter: blur(10px);
  padding:calc(74px + var(--safeTop)) 18px 18px;
  display:none;
  flex-direction:column;
  gap:12px;
  z-index:60;
}
.nav a{
  padding:14px 14px;
  border:1px solid rgba(255,255,255,.12);
  border-radius:14px;
  background:rgba(255,255,255,.04);
}
.navOpen .nav{display:flex}
.header{position:sticky;top:0;z-index:80}

/* Layout: 1 column */
.container{width:min(1120px, 94%)}
.hero{padding:34px 0 12px}
h1{font-size:26px;line-height:1.12}
.cards3{grid-template-columns:1fr}
.contactsGrid{grid-template-columns:1fr}
.btnPrimary,.btnGhost{width:100%;justify-content:center}
.fieldRow{flex-direction:column;align-items:stretch}
.fieldRow input{width:100%}
.assetBtn{width:100%;justify-content:space-between}
.metaRow{flex-direction:column;align-items:flex-start}
.modal__panel{width:min(520px, 96%);max-height:80vh}

/* override inline grid (hero/advantages) */
.heroGrid{grid-template-columns:1fr !important; gap:16px !important}
#advantages{grid-template-columns:1fr !important; gap:12px !important}

/* calc first on mobile */
.heroGrid > div:nth-child(1){ grid-row: 2 !important; }
.heroGrid > div:nth-child(2){ grid-row: 1 !important; }


/* ===== Mobile nav overlay fix ===== */
.nav{
  position:fixed !important;
  inset:0 !important;
  display:none !important;
  flex-direction:column !important;
  align-items:stretch !important;
  justify-content:flex-start !important;
  gap:12px !important;
  overflow-y:auto !important;
  -webkit-overflow-scrolling: touch !important;
  background:rgba(7,10,24,.78) !important;
  backdrop-filter: blur(12px) !important;
  padding:calc(74px + var(--safeTop)) 18px calc(18px + var(--safeBottom)) !important;
  z-index:9999 !important;
}
.nav a{
  display:block !important;
  width:100% !important;
  text-align:left !important;
  white-space:normal !important;
}
.navOpen .nav{display:flex !important}

/* ensure header and calculator don't overlap overlay */
.header{z-index:10000 !important}
.card.calc, .calc, #calc{position:relative; z-index:1 !important}

/* ===== Mobile nav moved-to-body (absolute top layer) ===== */
#mobileNav.nav, nav.nav{
  position: fixed !important;
  top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important;
  z-index: 2147483647 !important;
  display: none !important;
  flex-direction: column !important;
  align-items: stretch !important;
  justify-content: flex-start !important;
  gap: 12px !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch !important;
  background: rgba(7,10,24,.84) !important;
  backdrop-filter: blur(12px) !important;
  padding: calc(74px + var(--safeTop)) 18px calc(18px + var(--safeBottom)) !important;
}
.navOpen #mobileNav.nav, .navOpen nav.nav{ display: flex !important; }

/* If any ancestor creates stacking context, neutralize for header area */
.header, .header__inner{transform:none !important; filter:none !important;}

/* Ensure calculator never overlays */
.card.calc, .calc, #calc, .hero, .heroGrid{z-index:0 !important; position:relative !important;}

/* V22 navOpen display */
.navOpen #mobileNav{display:flex !important;}

/* ===== Desktop safety override (if mobile css ever gets applied) ===== */
#mobileNav a, nav.nav a{
    padding: 0 !important;
    border: none !important;
    background: none !important;
    width: auto !important;
    white-space: nowrap !important;
  }
  }

/* ===== Mobile overlay menu ===== */
@media (max-width: 820px){
  /* Header layout: 80% logo / 20% burger (mobile) */
  .header__inner{display:flex !important; align-items:center !important; justify-content:space-between !important; gap:10px !important;}
  .logo{flex: 0 1 80% !important; max-width: 80% !important;}
  .logo__img{max-width: 100% !important; height:30px !important;}
  .burgerBtn{flex: 0 0 20% !important; max-width: 56px !important; margin-left:auto !important;}
  /* Tools live inside burger menu on mobile */
  .header .lang, .header .themeToggleBtn{display:none !important;}
  /* Show correct burger icon */
  .burgerBtn__icon--desktop{display:none !important;}
  .burgerBtn__icon--mobile{display:block !important;}


  .burgerBtn{display:flex !important; position:relative; z-index:10002}
  #mobileNav{display:none !important;} /* hide horizontal desktop nav */
  .mobileMenu{
    position:fixed; inset:0;
    display:none;
    z-index:10001;
    background:rgba(7,10,24,.72);
    backdrop-filter: blur(12px);
    padding:calc(10px + var(--safeTop)) 14px calc(14px + var(--safeBottom));
  }
  .navOpen .mobileMenu{display:block;}
  .mobileMenu__panel{
    border:1px solid rgba(255,255,255,.14);
    border-radius:18px;
    background:rgba(255,255,255,.04);
    padding:14px;
    max-height: calc(100vh - 28px - var(--safeTop) - var(--safeBottom));
    overflow:auto;
    -webkit-overflow-scrolling:touch;
  }
  .mobileMenu__top{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
  .mobileMenu__topLeft{display:flex;align-items:center;gap:10px}
  .mobileMenu__topLeft .langIcon{display:inline-flex;align-items:center;justify-content:center;width:42px;height:36px;border-radius:12px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.04);text-decoration:none}
  .mobileMenu__topLeft .langIcon.active{border-color:rgba(35,213,171,.55);box-shadow:0 0 0 2px rgba(35,213,171,.12) inset}
  .themeToggleBtn--menu{transform:scale(.92);transform-origin:left center}
  .mobileMenu__title{font-weight:900;font-size:16px}
  .mobileMenu__close{
    width:40px;height:40px;border-radius:14px;
    border:1px solid rgba(255,255,255,.14);
    background:rgba(255,255,255,.04);
    color:inherit;
  }
  .mobileMenu__links{display:flex;flex-direction:column;gap:10px}
  .mobileMenu__link{
    display:block;
    padding:14px 14px;
    border:1px solid rgba(255,255,255,.12);
    border-radius:14px;
    background:rgba(255,255,255,.04);
    color:inherit;
    text-decoration:none;
  }

  /* calculator inputs visibility */
  #ppForm input, .fieldRow input{display:block !important; opacity:1 !important; visibility:visible !important;}
  .fieldRow{display:flex !important;}
  /* calc first on mobile */
  .heroGrid > div:nth-child(2){order:-1}
}


/* ===== Calc input mobile fix ===== */
@media (max-width: 820px){
  .fieldRow{gap:10px}
  .fieldRow input{
    width:100% !important;
    min-height:44px !important;
    padding:10px 12px !important;
    border-radius:12px !important;
    border:1px solid rgba(255,255,255,.14) !important;
    background:rgba(255,255,255,.04) !important;
    font-size:16px !important; /* prevent iOS zoom & make text visible */
    line-height:1.2 !important;
    display:block !important;
    opacity:1 !important;
    visibility:visible !important;
  }
  .fieldRow input::placeholder{opacity:1 !important}
  .assetBtn{
    width:100% !important;
    justify-content:space-between !important;
    min-height:44px !important;
  }
}
/* Active link highlight */
.mobileMenu__link.active{
  outline:2px solid rgba(35,213,171,.55);
  border-color: rgba(35,213,171,.55);
}

/* V30 ensure burger visible */
.burgerBtn{display:flex !important;}


/* ===== Mobile header tools hidden ===== */
@media (max-width: 820px){
  .header .lang{display:none !important;}
  .header #themeToggleBtn{display:none !important;}
  .navTools{display:flex !important; flex-direction:column; gap:14px; margin-bottom:10px;}
  .navLang{display:flex; gap:10px; justify-content:flex-start;}
}

@media (max-width: 820px){
  .header .lang{display:none !important;}
  .header #themeToggleBtn{display:none !important;}
  .navTools{display:block !important; padding:8px 0 6px 0;}
  .navToolsTop{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    padding:10px 12px;
    border-radius:16px;
    border:1px solid rgba(255,255,255,.12);
    background:rgba(255,255,255,.04);
    margin-bottom:10px;
  }
  .navLangIcons{display:flex;gap:10px;align-items:center}
  .langIcon{
    width:38px;height:34px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    border-radius:12px;
    border:1px solid rgba(255,255,255,.12);
    background:rgba(255,255,255,.04);
    font-size:18px;
    text-decoration:none;
  }
  .langIcon.active{
    border-color: rgba(35,213,171,.42);
    box-shadow: 0 0 0 3px rgba(35,213,171,.14);
  }
}

@media (max-width: 820px){
  .header__inner{
    display:grid !important;
    grid-template-columns:80% 20% !important;
    align-items:center !important;
    gap:10px !important;
  }
  .header__inner .logo{width:100%}
  .header__inner .burgerBtn{justify-self:end}
}
